---
import {getImage, Image} from "astro:assets";


import image_0 from '../assets/0.jpg';
import image_1 from '../assets/1.jpg';
import image_2 from '../assets/2.jpg';
import image_3 from '../assets/3.jpg';
import image_4 from '../assets/4.jpg';
import image_5 from '../assets/5.jpg';
import ImageView from "../components/ImageView.astro";

const images = [image_0, image_1, image_2, image_3, image_4, image_5];

const previewImages = images.map(async (image) => await getImage({
    src: image,
    width: 40,
    quality: 5,
}));

const lqipImages = await Promise.all(previewImages);

console.log(lqipImages);
---

<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
    <meta name="viewport" content="width=device-width"/>
    <meta name="generator" content={Astro.generator}/>
    <title>Astro</title>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            color: #232323;
            margin: 0;
            padding: 0;
        }

    </style>

</head>
<body class="p-12 flex gap-8 flex-col items-center">
<h1>LQIP Demo with Astro</h1>

<div class="flex flex-col gap-4 max-w-2xl w-full">
    {images.map((image, index) => (
            <ImageView image={image} lqipImages={lqipImages} index={index}/>

    ))}
</div>
</body>
</html>


